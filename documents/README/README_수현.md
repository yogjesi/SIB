#### 2021.12.17.(FRIDAY)

- settings.py  all-auth로 인한, run server 불가

=> all-auth 부분만 주석 처리.

- 자유게시판 게시글 및 댓글(대댓글은 아직 미구현) CRUD RESTful 작성
- VUE 로그인 부분(JWT-Token 부분) 만 작성, setToken 부분을 Vuex 에서 보관하도록 구현.
- VUE 자유게시판 전체 게시글 pagination 구현 중

==== 2차 ====

+ VUE 자유게시판 전체 게시글 pagination 완료

- VUE Detail 에서 이미지 경로 및 영상 경로 수정.
- VUE 에서 글 작성 유저에게만 수정, 삭제 버튼이 보이게(요청 유저와 글 작성 유저가 다를 경우, 서버에서도 에러 발생하게)
- VUE 에서 글 삭제 이전에 Modal로 재차 안내 문구
- 자유게시판 댓글 수정 삭제 해당 유저만 보이게끔
- 자유게시판 댓글 삭제 기능 modal 에 id가 동일할 경우, 전체적으로 다실행되는 오류가 발생, 제대로 원하는 것을 삭제하지 못한다. 그렇기에 modal-id 형태로 id를 구성하여 해결할 수 있었다.
- 댓글 수정 - > 누르면 input 창으로 변경되어 수정할 수 있게, 수정후 commitList 를 다시 불러와 볼 수 있게 설정.



회원 가입 후 (Auth 머시기) 0

이메일 인증 (auth 머시기) 1

회원활성화(승인해주기) is_active 1 

회계 (auth 머시기 ) 2

회장 (auth 머시기) 3



+ 관리자용 페이지 회장 및 어드민(지원님)만 목록 보이게, URL로 접근시 권한이 없으면 바로 HOME으로 돌아오게 된다.
+ 관리자용 페이지 유저목록 검색 및 초기화 가능
+ 관리자용 페이지 회계 지정 & 회계 지정 후 임시회계 권한 으로 회계는 가능하나, 회장에게 회계 권한 회수당할 수도 있다.
+ 관리자용 페이지 회장 변경 후, 전 회장의 권한 회수는 현 회장의 마음대로.
+ 관리자용 페이지에서 권한을 변경하려면 현 회장의 아이디와 비밀번호를 필요로 한다.
+ 인수인계가 끝날 때 까지는, 다른 사람을 바로 선출할 수 없다.

===== user 승인 ===

+ authority == 1 이 되었으나 is_active=0 인 친구들 이 나오는 목록
+ 가입 승인 시 is_active = 1 로 바뀌며,
+ 가입 거부 시 해당 user는 삭제 된다 ( 즉 , 재가입과 재인증을 필요로한다.)
+ 가입에 대한 형태에서 밑에 list도 새로고침으로써, DB를 바로 갱신한다.





==== 회원 가입 ===

+ aws lambda 로 SMTP 를 위한 node.js 서버 구성 완료. 이를 이용하여, 메일 전송 가능
+ 이메일 유효성 검사, 빈칸일시, 이메일형식이 아닐시, 중복이 아닐시로 이메일 유효성 검사를 함
+ 이메일이 유효한 경우, 이메일 인증 버튼이 활성화된다.
+ 이메일 인증 시작시, 이메일인증버튼 및 이메일 칸 비활성화
+ 이메일 인증 시작시 타이머 시작, 리셋시 타이머 시간 다시생김, 취소시, 활성화를 다시 풀어준다.
+ 회원가입을 위한 각 필드들에 유효성 검사를 담
+ 중복아이디일 경우, 유효성에 걸리게된다.
+ 아이디 첫글자 영문자, 4~12길이, 영어와 숫자만가능
+ 비밀번호 8~20길이, 영어와숫자만가능, 영어 숫자 혼합해야함
+ 비밀번호확인, 비밀번호 일치하는지 확인한다.
+ 로그인 -> ?# 으로 진행에 엄청막힘 해결법: actions  을 제거하고 vuetify-form 을 사용하여 해결
+ 자기소개 한줄소개 model 추가
+ 로그인 유효성 alert 추가( 아이디입력바랍니다,비밀번호입력바랍니다, 존재하지 않은 아이디입니다. 비밀번호가 일치하지않습니다. 관리자의 승인을 기다려주세요.)
+ 관리자페이지에서 회원일 경우 강퇴 가능. 이를 위해 회장 아이디와 비밀번호를 알아야한다.
+ Avoided redundant navigation to current location: "/login". 오류 -> 동일경로에서 새로고침할경우, 이동이없는데 이동이 됬다고 봐서 생기는 오류. catch() => {} 로 오류를 안보이게할 수 있다.( 치명적오류는 아니니가 안보이게만하자)
+ 성경 구절 API CORS 오류 -> json 파일로 구성하여 model 생성
+ 생성한 모델에서 랜덤으로 1개 뽑아서 MAIN 화면 출력
+ 무한 스크롤 댓글에 기능 구현 -> but 수정 , 삭제시 에러가 심하다. 게시글의 경우 삭제후 게시판 목록이라는 새로운 router 로 가게되지만, 댓글의 경우 수정삭제가 이루어진후 동일한 router 에 존재하다보니 생기는 오류인것같다. R 만 가능한 경우가 아니라면 인피니티 스크롤을 적용하지말자.